---
import JsonLd from "../components/JsonLd.astro";
import MainLayout from "../layouts/main.astro";

const contactStructuredData = {
	"@context": "https://schema.org",
	"@type": "ContactPage",
	name: "Contact Smiling Dev Consulting",
	description:
		"Get in touch with Bryson Meiling for tech consulting, web development, and digital transformation projects.",
	url: Astro.url.href,
	mainEntity: {
		"@type": "Organization",
		name: "Smiling Dev Consulting",
		email: "info@smiling.dev",
		url: "https://smiling.dev",
		contactPoint: {
			"@type": "ContactPoint",
			telephone: "+18019715786",
			contactType: "customer service",
			email: "info@smiling.dev",
			availableLanguage: "English",
		},
	},
};

const formspreeApi = "https://formspree.io/f/mdkogvoy";
---

<MainLayout 
  title="Contact - Smiling Dev Consulting" 
  description="Get in touch with Bryson Meiling for tech consulting, web development, and digital transformation projects."
>
  <JsonLd data={contactStructuredData}  />

  <div class="container mx-auto px-4 py-12">
    <div class="max-w-3xl mx-auto">
      <h1 class="text-4xl font-bold mb-6">Get in Touch</h1>
      <p class="text-xl text-muted-foreground mb-8">
        Ready to discuss your project? I'm here to help transform your ideas into reality. 
        Fill out the form below or send me an email directly.
      </p>

      <div class="grid md:grid-cols-2 gap-12 items-start">
        <div>
          <form 
            id="contactForm"
            action={formspreeApi}
            method="POST" 
            class="space-y-6"
          >
            <div id="formStatus" class="hidden"></div>

            <!-- Honeypot field, formspree will reject when a name=_gotcha input is filled -->
            <div class="hidden" style="display: none;">
              <input
                type="text"
                name="_gotcha"
                tabindex="-1"
                autocomplete="off"
              />
            </div>

            <div>
              <label for="name" class="block text-sm font-medium text-foreground mb-1">
                Name
              </label>
              <input
                type="text"
                id="name"
                name="name"
                required
                minlength="2"
                class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-primary bg-background text-foreground"
              />
            </div>

            <div>
              <label for="email" class="block text-sm font-medium text-foreground mb-1">
                Email
              </label>
              <input
                type="email"
                id="email"
                name="email"
                required
                class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-primary bg-background text-foreground"
              />
            </div>

            <div>
              <label for="project-type" class="block text-sm font-medium text-foreground mb-1">
                Project Type
              </label>
              <select
                id="project-type"
                name="project-type"
                required
                class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-primary bg-background text-foreground [&>option]:bg-background [&>option]:text-foreground"
              >
                <option value="" class="bg-background text-foreground">Select a project type</option>
                <option value="web-development" class="bg-background text-foreground">Web Development</option>
                <option value="technical-consulting" class="bg-background text-foreground">Technical Consulting</option>
                <option value="cloud-development" class="bg-background text-foreground">Cloud Development</option>
                <option value="seo-optimization" class="bg-background text-foreground">SEO Optimization</option>
              </select>
            </div>

            <div>
              <label for="message" class="block text-sm font-medium text-foreground mb-1">
                Project Details
              </label>
              <textarea
                id="message"
                name="message"
                rows="6"
                required
                minlength="20"
                class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-primary bg-background text-foreground"
              ></textarea>
            </div>

            <button 
              type="submit"
              id="submitButton"
              class="inline-flex items-center justify-center px-6 py-3 text-base font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary bg-primary text-primary-foreground hover:bg-primary/90 dark:bg-primary dark:hover:bg-primary/90"
            >
              Send Message
            </button>
          </form>
        </div>

        <div class="bg-muted/30 p-8 rounded-lg">
          <h2 class="text-2xl font-semibold mb-6">Other Ways to Connect</h2>
          
          <div class="space-y-6">
            <div>
              <h3 class="font-medium mb-2">Email</h3>
              <a 
                href="mailto:info@smiling.dev" 
                class="text-primary hover:text-primary/80"
              >
                info@smiling.dev
              </a>
            </div>

            <div>
              <h3 class="font-medium mb-2">Office Hours</h3>
              <p class="text-muted-foreground">Monday - Friday<br />9:00 AM - 5:00 PM MT</p>
            </div>

            <div>
              <h3 class="font-medium mb-2">Response Time</h3>
              <p class="text-muted-foreground\">
                I typically respond to inquiries within 24 business hours.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</MainLayout>